Metadata-Version: 2.4
Name: astmio
Version: 1.0.0a3
Summary: Python implementation of ASTM E1381/1394 protocol.
Author-email: Prasoon Pratham <prathamprasoonyt@gmail.com>
Project-URL: Homepage, https://github.com/PrasoonPratham/astmio
Project-URL: Bug Tracker, https://github.com/PrasoonPratham/astmio/issues
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
License-File: LICENSE.original
Requires-Dist: pydantic>=2.0.0
Requires-Dist: structlog>=23.1.0
Requires-Dist: python-json-logger>=2.0.7
Requires-Dist: dataset>=1.6.2
Requires-Dist: PyYAML>=6.0
Requires-Dist: prometheus-client>=0.17.0
Provides-Extra: dev
Requires-Dist: ruff; extra == "dev"
Requires-Dist: pytest; extra == "dev"
Requires-Dist: pytest-asyncio; extra == "dev"
Requires-Dist: hypothesis; extra == "dev"
Provides-Extra: logging
Requires-Dist: structlog; extra == "logging"
Requires-Dist: python-json-logger; extra == "logging"
Requires-Dist: dataset; extra == "logging"
Provides-Extra: profiles
Requires-Dist: PyYAML; extra == "profiles"
Provides-Extra: metrics
Requires-Dist: prometheus-client; extra == "metrics"
Dynamic: license-file


# ASTMIO: Modern Asynchronous ASTM E1394/E1381 Server and Client

ASTMIO is a completely modernized, asynchronous, and feature-rich Python library for handling the ASTM E1394/E1381 protocol, commonly used in clinical laboratories. This project is a ground-up rewrite of the original `python-astm` library, built on modern Python features like `asyncio`, `structlog`, and a robust plugin system.

## Key Features

- **Fully Asynchronous:** Built on `asyncio` for high-performance, non-blocking I/O.
- **Structured Logging:** Uses `structlog` for clear, configurable, and machine-readable logs, with support for JSON formatting and SQLite storage.
- **Robust Error Handling:** A comprehensive exception hierarchy and automatic reconnection with exponential backoff.
- **Connection Pooling:** A built-in connection pool for efficient management of client connections.
- **Device Profiles:** A flexible configuration system for managing different instrument profiles and their specific quirks.
- **TLS/SSL Support:** Secure communication with TLS/SSL encryption for both the client and server.
- **Extensible Plugin System:** Easily extend the server's functionality with custom plugins for new record types, codecs, or metrics.
- **Observability:** Built-in metrics collection and a Prometheus plugin for easy integration with monitoring systems.
- **Modern Testing:** A comprehensive test suite built on `pytest` and `hypothesis`.

## Installation

```bash
pip install astmio
```

To install with optional features:

```bash
# For structured logging with SQLite
pip install astmio[logging]

# For device profiles
pip install astmio[profiles]

# For Prometheus metrics
pip install astmio[metrics]
```

## Quick Start

### Server

```python
import asyncio
from astmio.server import Server

async def main():
    server = Server()
    await server.serve_forever()

if __name__ == "__main__":
    asyncio.run(main())
```

### Client

```python
import asyncio
from astmio.client import Client

async def main():
    records = [
        ['H', '|||||', '20230507'],
        ['L', '1', 'N']
    ]
    client = Client()
    await client.send(records)
    client.close()
    await client.wait_closed()

if __name__ == "__main__":
    asyncio.run(main())
```

## Documentation

For more detailed information on the API, plugins, and configuration, please refer to the full documentation (link to be added).

